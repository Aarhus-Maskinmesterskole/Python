# ğŸ” **4.4 Filtrering og Selektion i Pandas**  

NÃ¥r vi har indlÃ¦st data i Pandas, er det vigtigt at kunne **filtrere og udvÃ¦lge specifikke data**.  
I dette modul lÃ¦rer du, hvordan du **vÃ¦lger kolonner, filtrerer rÃ¦kker og arbejder med betingelser i Pandas**.  

> **MÃ¥l for dette modul:**  
> âœ… ForstÃ¥, hvordan man vÃ¦lger bestemte kolonner og rÃ¦kker  
> âœ… Filtrere data baseret pÃ¥ betingelser  
> âœ… Arbejde med `.loc[]` og `.iloc[]` til prÃ¦cise udtrÃ¦k  

---

## ğŸ“Œ **1. UdvÃ¦lge kolonner i en DataFrame**  

Du kan vÃ¦lge Ã©n eller flere kolonner ved at bruge `df["Kolonne"]` eller `df[["Kol1", "Kol2"]]`.  

```python
import pandas as pd

df = pd.read_csv("data.csv")

# VÃ¦lg Ã©n kolonne
print(df["Navn"])

# VÃ¦lg flere kolonner
df_subset = df[["Navn", "Alder"]]
print(df_subset.head())
```

> **ğŸ“Œ Hvis du vÃ¦lger Ã©n kolonne, fÃ¥r du en `Series`. VÃ¦lger du flere, fÃ¥r du en `DataFrame`.**  

---

## ğŸ” **2. VÃ¦lge rÃ¦kker med `.loc[]` og `.iloc[]`**  

### **2.1 VÃ¦lge rÃ¦kker baseret pÃ¥ indeks**  

```python
# VÃ¦lg en bestemt rÃ¦kke med .loc[] (baseret pÃ¥ rÃ¦kke-labels)
print(df.loc[2])

# VÃ¦lg en bestemt rÃ¦kke med .iloc[] (baseret pÃ¥ numerisk indeks)
print(df.iloc[0])  # FÃ¸rste rÃ¦kke
```

### **2.2 VÃ¦lge specifikke rÃ¦kker og kolonner**  

```python
# VÃ¦lg rÃ¦kke 2 og kun kolonnen "Navn"
print(df.loc[2, "Navn"])

# VÃ¦lg rÃ¦kke 0-2 og kun "Navn" og "Alder"
print(df.loc[0:2, ["Navn", "Alder"]])
```

> **ğŸ“Œ `.loc[]` bruger rÃ¦kker baseret pÃ¥ deres navne, mens `.iloc[]` bruger numeriske indeks.**  

---

## ğŸ”„ **3. Filtrering af data baseret pÃ¥ betingelser**  

### **3.1 VÃ¦lg rÃ¦kker med en betingelse**  

```python
# VÃ¦lg personer over 25 Ã¥r
df_over_25 = df[df["Alder"] > 25]
print(df_over_25)
```

### **3.2 Kombinere flere betingelser**  

```python
# VÃ¦lg personer over 25 Ã¥r OG fra Aarhus
df_aarhus_25 = df[(df["Alder"] > 25) & (df["By"] == "Aarhus")]
print(df_aarhus_25)

# VÃ¦lg personer over 25 Ã¥r ELLER fra Aarhus
df_aarhus_eller_25 = df[(df["Alder"] > 25) | (df["By"] == "Aarhus")]
print(df_aarhus_eller_25)
```

> **ğŸ“Œ Brug `&` (og) og `|` (eller) til at kombinere betingelser.**  

### **3.3 Filtrere baseret pÃ¥ liste af vÃ¦rdier**  

```python
# VÃ¦lg personer, der bor i enten Aarhus eller Odense
df_byer = df[df["By"].isin(["Aarhus", "Odense"])]
print(df_byer)
```

> **ğŸ“Œ `.isin()` bruges til at vÃ¦lge rÃ¦kker, der matcher en liste af vÃ¦rdier.**  

---

## âš  **4. HÃ¥ndtering af manglende vÃ¦rdier**  

I virkelige datasÃ¦t er der ofte **manglende vÃ¦rdier** (`NaN`).  

### **4.1 Find manglende vÃ¦rdier**  

```python
print(df.isnull().sum())  # TÃ¦ller manglende vÃ¦rdier pr. kolonne
```

### **4.2 Fjerne rÃ¦kker med manglende vÃ¦rdier**  

```python
df_renset = df.dropna()
print(df_renset)
```

### **4.3 Erstatte manglende vÃ¦rdier**  

```python
df["Alder"].fillna(df["Alder"].mean(), inplace=True)  # Erstat med gennemsnittet
```

> **ğŸ“Œ `fillna()` kan bruges til at erstatte `NaN` med en standardvÃ¦rdi.**  

---

## ğŸ¯ **5. Ã˜velser**  

### 1ï¸âƒ£ **FÃ¥ overblik over et datasÃ¦t**
- IndlÃ¦s en CSV-fil og print:
  - Kolonnenavne (`.columns`)
  - Antal rÃ¦kker og kolonner (`.shape`)
  - Statistik (`.describe()`)

### 2ï¸âƒ£ **Filtrering af data**
- VÃ¦lg kun bestemte kolonner (`Navn` og `Alder`).
- Filtrer personer over 30 Ã¥r.

### 3ï¸âƒ£ **HÃ¥ndtering af manglende vÃ¦rdier**
- Find manglende vÃ¦rdier med `.isnull().sum()`.
- Erstat dem med en passende vÃ¦rdi.

### ğŸ”¥ **Bonusudfordring**
- Find de 5 Ã¦ldste personer i dit datasÃ¦t.
- Find hvor mange personer, der bor i KÃ¸benhavn.

---

## ğŸš€ **6. Opsummering**  
âœ” **Brug `.loc[]` og `.iloc[]` til at vÃ¦lge rÃ¦kker og kolonner**  
âœ” **Filtrer data med betingelser som `df[df["Alder"] > 30]`**  
âœ” **Brug `.isin()` til at filtrere baseret pÃ¥ en liste af vÃ¦rdier**  
âœ” **HÃ¥ndter manglende vÃ¦rdier med `.dropna()` og `.fillna()`**  

**ğŸ“Œ Videre til nÃ¦ste modul: [4.5 - Datamanipulation](4.5-Datamanipulation.md)**  

God fornÃ¸jelse med datafiltrering i Pandas! ğŸ¼ğŸš€  
