# ğŸ’¾ **4.8 Lagring af Data i Pandas**  

NÃ¥r vi har behandlet vores data, er det vigtigt at kunne **gemme det i forskellige formater**.  
I dette modul lÃ¦rer du at gemme data i **CSV, Excel, JSON og SQL**.  

> **MÃ¥l for dette modul:**  
> âœ… Gemme data i CSV, Excel og JSON  
> âœ… ForstÃ¥ forskellen mellem de forskellige filformater  
> âœ… Lagring i databaser med SQL  

---

## ğŸ“Œ **1. Gemme DataFrame som CSV-fil**  

CSV-filer (`Comma-Separated Values`) er det mest anvendte format til dataudveksling.  

```python
import pandas as pd

df = pd.DataFrame({
    "Navn": ["Lise", "Anders", "Mia"],
    "Alder": [25, 30, 28],
    "By": ["Aarhus", "KÃ¸benhavn", "Odense"]
})

# Gem DataFrame som CSV-fil
df.to_csv("data.csv", index=False)
```

> **ğŸ“Œ `index=False` sikrer, at Pandas ikke gemmer den interne indekskolonne.**  

---

## ğŸ“Š **2. Gemme DataFrame som Excel-fil**  

Excel-filer er populÃ¦re i virksomheder og forskning. Pandas krÃ¦ver `openpyxl` for at arbejde med Excel.  

```bash
pip install openpyxl
```

```python
df.to_excel("data.xlsx", index=False, sheet_name="Ark1")
```

> **ğŸ“Œ `sheet_name="Ark1"` specificerer hvilket ark, data skal gemmes i.**  

---

## ğŸŒ **3. Gemme DataFrame som JSON-fil**  

JSON (`JavaScript Object Notation`) bruges ofte i **webservices og API'er**.  

```python
df.to_json("data.json", orient="records", indent=4)
```

| **Parameter** | **Beskrivelse** |
|--------------|----------------|
| `orient="records"` | Gemmer data som en liste af dictionaries |
| `indent=4` | Formaterer JSON-data for bedre lÃ¦sbarhed |

> **ğŸ“Œ JSON er let at lÃ¦se og bruges bredt i datadeling.**  

---

## ğŸ›¢ **4. Gemme data i en SQL-database**  

Pandas kan ogsÃ¥ gemme data direkte i en database.  

```bash
pip install sqlalchemy sqlite3
```

```python
from sqlalchemy import create_engine

# Opret en SQLite database
engine = create_engine("sqlite:///data.db")

# Gem DataFrame i databasen
df.to_sql("personer", engine, if_exists="replace", index=False)
```

| **Parameter** | **Beskrivelse** |
|--------------|----------------|
| `"sqlite:///data.db"` | Opretter en SQLite-database |
| `"personer"` | Navnet pÃ¥ databasen |
| `if_exists="replace"` | Overskriver eksisterende tabel |

> **ğŸ“Œ SQL er ideelt til hÃ¥ndtering af store datasÃ¦t og forespÃ¸rgsler.**  

---

## ğŸ¯ **5. Ã˜velser**  

### 1ï¸âƒ£ **Gem som CSV**  
- Opret en DataFrame og gem den som `"test.csv"`.  
- Ã…bn filen manuelt for at se formatet.  

### 2ï¸âƒ£ **Gem som Excel**  
- Konverter `"test.csv"` til `"test.xlsx"`.  

### 3ï¸âƒ£ **Gem som JSON**  
- Konverter `"test.xlsx"` til `"test.json"`.  

### ğŸ”¥ **Bonusudfordring**  
- Opret en SQLite-database og gem dine data der.  

---

## ğŸš€ **6. Opsummering**  
âœ” **Gem data med `.to_csv()`, `.to_excel()`, `.to_json()`, `.to_sql()`**  
âœ” **Brug `index=False` for at undgÃ¥ unÃ¸dvendige indeks**  
âœ” **SQL er velegnet til store datamÃ¦ngder**  

**ğŸ“Œ Videre til nÃ¦ste modul: [5.0 - Datavisualisering](/Modul_5)**  

God fornÃ¸jelse med data-lagring i Pandas! ğŸ’¾ğŸ¼ğŸš€  
